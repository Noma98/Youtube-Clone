
<h1 align="center"><b>Youtube Clone</b></h1>
<p align="center">
<img src="https://img.shields.io/badge/madeÂ by-merry-red">
<img src="https://img.shields.io/badge/JS-71.5%25-blueviolet">
<img src="https://img.shields.io/badge/React-17.0.2-blue">
<img src="https://img.shields.io/badge/Open%20Source-%F0%9F%A7%A1-brightgreen">
</p>
  
<img width="100%" alt="thumbnail" src="https://user-images.githubusercontent.com/69305320/116347815-e1c66a80-a827-11eb-9e32-6a7ccb82031c.PNG">
  
<h2 align="center"><a href="https://merrytube.netlify.app/"><b>Live Demo</b></a></h2>    


# **ğŸ“ Description**

Youtubeì—ì„œÂ ì œê³µí•˜ëŠ”Â Data APIë¥¼Â ì´ìš©í•œ í´ë¡  ì½”ë”© í”„ë¡œì íŠ¸ë¡œ,Â Youtubeì˜Â í•„ìˆ˜Â ê¸°ëŠ¥ë“¤(ê²€ìƒ‰,Â ì¸ê¸°Â ì˜ìƒ,Â ë™ì˜ìƒÂ ì¬ìƒ)ì„Â êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  
## **HowÂ toÂ use â“**
### **1. ë¹„ë””ì˜¤ë¥¼ í´ë¦­í•´ë³´ì„¸ìš”!**
ğŸ“ ì¸ë„¤ì¼Â í´ë¦­ì‹œÂ í•´ë‹¹Â ì˜ìƒì„Â ì¬ìƒí• Â ìˆ˜Â ìˆëŠ”Â í˜ì´ì§€ê°€Â ëœ¨ê³ ,Â ê´€ë ¨ëœÂ ì˜ìƒë“¤ì„Â ì¶”ì²œí•´Â ì¤ë‹ˆë‹¤.

![playVideo](https://user-images.githubusercontent.com/69305320/116347802-decb7a00-a827-11eb-80b0-39e2927d667c.gif)

ğŸ“ í•˜ë‹¨ì˜ `ë”ë³´ê¸°`ë¥¼ í´ë¦­í•˜ë©´ ì˜ìƒì˜ ìì„¸í•œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


![more](https://user-images.githubusercontent.com/69305320/116347797-dd9a4d00-a827-11eb-9108-62f82ba34ad8.gif)


### **2. ë³´ê³ ì‹¶ì€ ì˜ìƒì„ ê²€ìƒ‰ì°½ì— ì…ë ¥í•˜ì„¸ìš”.**

ğŸ“ ê²€ìƒ‰Â ê²°ê³¼ê°€Â ì˜ìƒë§ŒÂ ë‚˜ì˜¤ë„ë¡Â í•„í„°ë§Â ë˜ì–´Â ìˆì–´,Â ì±„ë„Â ê´€ë ¨Â ê²°ê³¼ëŠ”Â ë‚˜ì˜¤ì§€Â ì•ŠìŠµë‹ˆë‹¤.  

ğŸ“ ê²€ìƒ‰ì–´ë¥¼Â ì´ìš©í•´Â íƒ€ì´í‹€ê³¼Â URLÂ ì£¼ì†Œê°€Â ë³€ê²½ë©ë‹ˆë‹¤.


![search](https://user-images.githubusercontent.com/69305320/116347811-e0953d80-a827-11eb-9722-58105d60b802.gif)
### **3. ì‚¬ì´ë“œë°”ì—Â ìˆëŠ”Â 'í™ˆ'ë²„íŠ¼ìœ¼ë¡œÂ í™”ë©´Â ì´ë™ì´Â ê°€ëŠ¥í•©ë‹ˆë‹¤.**  


![sideHome](https://user-images.githubusercontent.com/69305320/116347814-e12dd400-a827-11eb-9e13-1f866f4d6847.gif)

> â— ì°¸ê³   
>
>`ìƒˆë¡œê³ ì¹¨(F5)`ì€ ê°€ëŠ¥í•˜ë‚˜, `ë’¤ë¡œê°€ê¸°`ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

  
# **ğŸ” AboutÂ theÂ project**

### **ğŸ’» DevelopmentÂ Environment**Â 
: React.js,Â ReactÂ Router,Â PostCSS,Â Postman,Â YoutubeÂ API,Â VScode,Â Github

> â— ì•„ë˜ ì½”ë“œë“¤ì€ ì„¤ëª…ì„ ìœ„í•´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì¼ë¶€ ê°€ì ¸ì˜¨ ê²ƒìœ¼ë¡œ, ë¶„ëŸ‰ìƒ ë‚˜ë¨¸ì§€ëŠ” `//...`ìœ¼ë¡œ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.

ìì„¸í•œÂ ì½”ë“œëŠ”Â [ì´ê³³](https://github.com/MerryHa/youtube/tree/master/src)ì—ì„œ í™•ì¸í•˜ì„¸ìš”.
### **âœ… DependencyÂ Injection & axios**

ğŸ“ ë°ì´í„° í†µì‹ ì„ `App` ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ë¶„ë¦¬ì‹œí‚¤ê¸° ìœ„í•´ ì™¸ë¶€ì—ì„œ `Youtube` í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¡œ ì£¼ì…í•˜ì˜€ìŠµë‹ˆë‹¤.
```jsx
// src/index.js
//...
import App from './app';
import Youtube from './service/youtube.js';
import axios from 'axios';

const httpClient = axios.create({
  baseURL: 'https://www.googleapis.com/youtube/v3',
  params: { key: process.env.REACT_APP_YOUTUBE_API_KEY},
});
const youtube = new Youtube(httpClient);

ReactDOM.render(
  <React.StrictMode>
    <Router>
      <App youtube={youtube} />
    </Router>
  </React.StrictMode>,
  document.getElementById('root')
);

```
ğŸ“ `axios` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ `fetch` APIë³´ë‹¤ ê°€ë…ì„± ì¢‹ê²Œ ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ì™”ìŠµë‹ˆë‹¤. 

ğŸ“ API í• ë‹¹ëŸ‰ì„ ì ˆì•½í•˜ê¸° ìœ„í•´ ê¼­ í•„ìš”í•œ ë°ì´í„°ë§Œ `fields`ë¥¼ ì´ìš©í•´ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤.
```jsx
// src/service/youtube.js
class Youtube {
    constructor(httpClient) {
        this.youtube = httpClient;
    }

    async getMostPopular() {
        const response = await this.youtube.get('videos', {
            params: {
                part: 'snippet',
                chart: 'mostPopular',
                maxResults: 28,
                fields: 'items(id,snippet(channelId))',
                regionCode: 'KR',
            },
        });
        return response.data.items;
    }
    //...
}
export default Youtube;
```
### **âœ… ReactÂ Router & useHistory**
ğŸ“ React Routerì™€ `useHistory`ë¥¼ ì‚¬ìš©í•´ ìƒí™©ì— ë”°ë¼ ì ì ˆí•œ URLê³¼ titleë¡œ ë³€ê²½ë˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. 

â–½ ê²€ìƒ‰ ì‹œ

![searchURL](https://user-images.githubusercontent.com/69305320/116347812-e12dd400-a827-11eb-9f5f-ad295b332fa0.gif)

â–½ ë¹„ë””ì˜¤ í´ë¦­ ì‹œ

![watchURL](https://user-images.githubusercontent.com/69305320/116347816-e25f0100-a827-11eb-8eae-333adc04be07.gif)

```jsx
// src/index.js
//...
import { BrowserRouter as Router } from 'react-router-dom';

ReactDOM.render(
  <React.StrictMode>
    <Router>
      <App youtube={youtube} />
    </Router>
  </React.StrictMode>,
  document.getElementById('root')
);
```
```jsx
// src/app.jsx
//...
import { Route, Switch, useHistory } from 'react-router';
const htmlTitle = document.querySelector('title');

function App({ youtube }) {
  //...
  const history = useHistory();

  const selectVideo = useCallback(
    (video) => {
      history.push(`/watch?v=${video.videoId}`);
      htmlTitle.textContent = `(8) ${video.videoTitle}`;
      //...
    }, [youtube, history]);

  const handleSearch = useCallback(
    query => {
      htmlTitle.textContent = `(8) ${query} - Youtube`;
      history.push(`/results?search_query=${query}`);
     //...
    }, [youtube, history]
  );
 //...

  return (
    //...
        <Switch>
          <Route path="/" exact>
            <Home
              clickLogo={clickLogo}
              //...
            />
          </Route>
          <Route path="/results">
            <Search
              clickLogo={clickLogo}
              //...
            />
          </Route>
          <Route path="/watch">
            <Watch
              youtube={youtube}
              //...
            />
          </Route>
        </Switch>
     //...
}
export default App;
```
### **âœ… sessionStorage & useEffect**
ğŸ“ `sessionStorage`ë¥¼ ì´ìš©í•´ í™”ë©´ì´ ìƒˆë¡œê³ ì¹¨ ë˜ì–´ë„ í˜„ì¬ í˜ì´ì§€ì™€ íƒ€ì´í‹€ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
```jsx
// src/app.jsx
//...
import React, { useCallback, useEffect, useState } from 'react';

let selectedVideo = JSON.parse(sessionStorage.getItem('selectedVideo')) || null;
let defaultVideos = JSON.parse(sessionStorage.getItem('defaultVideos')) || null;
const htmlTitle = document.querySelector('title');
htmlTitle.textContent = sessionStorage.getItem('htmlTitle') || 'Youtube';

function App({ youtube }) {
  const [videos, setVideos] = useState(() =>
    JSON.parse(sessionStorage.getItem('videos')) || null
  );
 //...
  useEffect(() => {
    sessionStorage.setItem('htmlTitle', htmlTitle.textContent);
    sessionStorage.setItem('videos', JSON.stringify(videos));
    sessionStorage.setItem('selectedVideo', JSON.stringify(selectedVideo));
    sessionStorage.setItem('defaultVideos', JSON.stringify(defaultVideos));
  }, [videos, selectedVideo]);

  return (
    //...
    );
}
export default App;
```
### **âœ… memo**
ğŸ“ `Sidebar` ì»´í¬ë„ŒíŠ¸ë¥¼ `memo`ë¡œ ë°”ê¿”ì¤Œìœ¼ë¡œì¨ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í–ˆìŠµë‹ˆë‹¤.  
```jsx
import React, { memo } from 'react';
import styles from './sidebar.module.css'

const Sidebar = memo(({ onHomeClick }) => {
    return (
        <div className={styles.sidebar}>
           //...
        </div>
    );
});

export default Sidebar;
```
### **âœ… Netlify Redirect**
ğŸ“ `public`ì— `_redirects` íŒŒì¼ì„ ìƒì„±í•´ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•¨ìœ¼ë¡œì¨ Netlifyì˜ ìƒˆë¡œê³ ì¹¨ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
```
// public/_redirects

/* /index.html 200
```

## **About UI**
### **âœ… matchMedia**
ğŸ“ `matchMedia`ë¥¼ ì´ìš©í•´ì„œ í™”ë©´ í¬ê¸°ì— ì ì ˆí•œ ê²€ìƒ‰ì°½ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.  

(â• `useEffect`ì˜ `return`êµ¬ë¬¸ì— `removeEventListener`ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ëœ ì´í›„ë¡œ ë¶ˆí•„ìš”í•˜ê²Œ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ì§€ ì•Šë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.)

![responsibleSearch](https://user-images.githubusercontent.com/69305320/116347809-dffca700-a827-11eb-9ebe-16055afe0552.gif)

```jsx
// src/component/search_header/search_header.jsx
const SearchHeader = ({ onSearch, onLogoClick }) => {
    const [mQuery, setMQuery] = useState(
        window.innerWidth < 650 ? true : false,
    );
    const [miniSearch, setMiniSearch] = useState(false);
    const screenChange = (event) => {
        const matches = event.matches;
        setMQuery(matches);
    }
    const setState = (state) => {
        setMiniSearch(state);
    }
    useEffect(() => {
        let mql = window.matchMedia("screen and (max-width:650px)");
        mql.addEventListener("change", screenChange);
        return () => mql.removeEventListener("change", screenChange)
    }, [])

    return (
        <>
            {miniSearch ? (
                <MiniSearchForm onSearch={onSearch} setState={setState} />
            ) : (
                <div className={styles.header}>
                    <div className={styles.start}>
                        <button className={styles.menuBtn}>
                            <i className="fas fa-bars"></i>
                        </button>
                        <Link to='/'>
                            <div className={styles.logo} onClick={onLogoClick}>
                                <img className={styles.logoImage} src="/images/logo.png" alt="logo" />
                                <h4 className={styles.logoTitle}>Youtube</h4>
                            </div>
                        </Link>
                    </div>
                    {mQuery ? (
                        <></>
                    ) : (
                        <div className={styles.center}>
                            <SearchForm onSearch={onSearch} />
                            <button className={styles.btn}><i className="fas fa-microphone"></i></button>
                        </div>
                    )}

                    <div className={styles.end}>
                        {mQuery && (<button className={styles.btn} onClick={() => setMiniSearch(true)}>
                            <i className="fas fa-search"></i>
                        </button>)}
                        <button className={styles.btn}><i className="fas fa-plus-square"></i></button>
                        <button className={styles.btn}><i className="fas fa-th"></i></button>
                        <button className={styles.btn}><i className="fas fa-bell"></i></button>
                    </div>
                </div>)}
        </>
    );
};
export default SearchHeader;
```
ğŸ“ ìœ„ì™€ ë™ì¼í•œ ë°©ë²•ìœ¼ë¡œ í™”ë©´ í¬ê¸°ê°€ ì‘ì•„ì¡Œì„ ê²½ìš°Â ì¡°íšŒìˆ˜Â í‘œì‹œÂ ë‹¨ìœ„ë¥¼Â ë³€ê²½í•˜ê³ Â ì—…ë¡œë“œÂ ì¼ìë¥¼Â ì—†ì• Â ê³µê°„ì„Â í™•ë³´í–ˆìŠµë‹ˆë‹¤.

![responsiblePlayScreen](https://user-images.githubusercontent.com/69305320/116347808-dffca700-a827-11eb-8500-9ef816d11911.gif)
  
### **âœ… Responsible UI**
ğŸ“ `flex`ë¥¼Â ì‚¬ìš©í•´Â í™”ë©´Â í¬ê¸°ì—Â ë”°ë¼Â ì˜ìƒì„Â ë°°ì¹˜í•˜ì˜€ê³ , `rem`ê³¼Â `em`ë‹¨ìœ„ë¡œ ì‘ì„±í•´Â `mediaÂ query`ì—Â ë”°ë¼Â ìë™ìœ¼ë¡œÂ í¬ê¸°(í°íŠ¸, ì—¬ë°±, ìš”ì†Œ í¬ê¸°)ê°€Â ì¡°ì ˆë˜ë„ë¡Â ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.  


![responsibleHome](https://user-images.githubusercontent.com/69305320/116347807-df641080-a827-11eb-8c0b-02f2e4cd37b4.gif)

### **âœ… Loading Spinner**
ğŸ“ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ë™ì•ˆ ë¡œë”© ì¤‘ì„ì„ ì‚¬ìš©ìê°€ ì¸ì§€í•  ìˆ˜ ìˆë„ë¡ ë¡œë”© ìŠ¤í”¼ë„ˆë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

![playVideo](https://user-images.githubusercontent.com/69305320/116347802-decb7a00-a827-11eb-80b0-39e2927d667c.gif)

```jsx
// src/app.jsx
//...
function App({ youtube }) {
  //...
  const [loading, setLoading] = useState(true);
  //...
  const selectVideo = useCallback(
    (video) => {
      //...
      setLoading(true);
      youtube
        .getRcmData(video.videoId)
        .then(videos => {
          setVideos(videos);
          setLoading(false);
        });
    }, [youtube, history]);

  const handleSearch = useCallback(
    query => {
      //...
      setLoading(true);
      youtube
        .getSearchResult(query)
        .then(videos => {
          setVideos(videos);
          setLoading(false);
        });
    }, [youtube, history]
  );
//...
  useEffect(() => {
    if (!defaultVideos) {
      youtube
        .getMostPopular()
        .then(videos => {
          setVideos(videos);
          setLoading(false);
          defaultVideos = videos;
        });
    } else {
      setLoading(false);
    }
  }, [youtube]);
 //...
  return (
    //...
    );
}
export default App;
``` 

# **â³ FutureÂ scope**

- FirebaseÂ ë¡œê·¸ì¸Â ê¸°ëŠ¥Â ì¶”ê°€í•˜ê¸°
- ì‹¤ì‹œê°„Â ë°ì´í„°ë² ì´ìŠ¤ë¥¼Â ë”í•´Â ê°œì¸Â idë³„ë¡œÂ 'ì¢‹ì•„ìš”'í•œÂ ë™ì˜ìƒÂ ì €ì¥í• Â ìˆ˜Â ìˆê²ŒÂ í•˜ê¸°
- ì˜ìƒÂ í”Œë ˆì´Â í™”ë©´ì—ì„œÂ ë²„íŠ¼ë“¤('ì¢‹ì•„ìš”',Â 'ì‹«ì–´ìš”',Â ...)Â í™œì„±í™”Â í•˜ê¸°
- ë‹¤í¬ëª¨ë“œ,Â ë¼ì´íŠ¸Â ëª¨ë“œÂ ì „í™œí• Â ìˆ˜Â ìˆê²ŒÂ í•˜ê¸°
- ì±„ë„Â ì¸ë„¤ì¼Â ëˆ„ë¥´ë©´Â ì±„ë„Â í˜ì´ì§€Â ë‚˜ì˜¤ë„ë¡Â ë§Œë“¤ê¸°
- í”Œë ˆì´Â í™”ë©´ì—ì„œÂ ë™ì˜ìƒÂ ê²€ì •Â ì—¬ë°±Â flexí•˜ê²ŒÂ ë§Œë“¤ê¸°
- 'ë’¤ë¡œê°€ê¸°' í´ë¦­ ì‹œ ì ì ˆí•œ stateë¡œ ë Œë”ë§ ë˜ë„ë¡ í•˜ê¸°